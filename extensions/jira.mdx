---
title: 'Jira Integration'
description: 'Connect Potpie with Jira for issue tracking and project management'
---

## Overview

The **Jira integration** enables Potpie agents to access issues, projects, and workflows in the Jira workspace. Authentication uses **Atlassian OAuth 2.0 (3LO)** with **webhook** support for real-time notifications.

<CardGroup cols={2}>
  <Card title="10 Tools" icon="toolbox">
    Create, read, update, search, and manage Jira issues
  </Card>
  <Card title="Atlassian 3LO" icon="shield-check">
    Secure OAuth 2.0 authentication with cloud ID support
  </Card>
  <Card title="Webhook Support" icon="webhook">
    Real-time notifications for issue changes
  </Card>
  <Card title="Multi-Project" icon="diagram-project">
    Access multiple projects and teams
  </Card>
</CardGroup>

---

## Quick Start

<Steps>
  <Step title="Create Atlassian OAuth App">
    Go to [Atlassian Developer Console](https://developer.atlassian.com/console/myapps/)

    Create an **OAuth 2.0** integration with:
    - **App name**: Potpie AI
    - **Callback URL**: `https://app.potpie.ai/integrations/jira/callback`
    - **Permissions**: See Required Scopes below
  </Step>

  <Step title="Configure Environment">
    ```bash
    JIRA_CLIENT_ID=your_client_id
    JIRA_CLIENT_SECRET=your_client_secret
    JIRA_OAUTH_SCOPE="read:jira-user read:jira-work write:jira-work manage:jira-webhook offline_access manage:jira-configuration"
    ```
  </Step>

  <Step title="Connect Jira Site">
    1. Settings → Integrations → Jira
    2. Click **Connect**
    3. Select the Jira site
    4. Authorize permissions
    5. Name the integration
  </Step>

  <Step title="Test Integration">
    *"Create a Jira issue in project ENG with title 'Test issue'"*

    *"Show me issue ENG-123"*
  </Step>
</Steps>

---

## OAuth Setup

### Atlassian OAuth 2.0 (3LO)

**Authorization URL:** `https://auth.atlassian.com/authorize`
**Token URL:** `https://auth.atlassian.com/oauth/token`
**API Base:** `https://api.atlassian.com/ex/jira/{cloud_id}`

### Required Scopes

```
read:jira-user           # Read user information
read:jira-work           # Read issues, projects
write:jira-work          # Create/update issues
manage:jira-webhook      # Create webhooks
offline_access           # Refresh tokens
manage:jira-configuration # Project settings
```

### Cloud ID

After OAuth, fetch accessible resources:
```bash
GET https://api.atlassian.com/oauth/token/accessible-resources
Authorization: Bearer {access_token}

Response:
[{
  "id": "cloud-id-123",
  "name": "My Jira Site",
  "url": "https://mysite.atlassian.net"
}]
```

All API calls require the **cloud ID:**
```
https://api.atlassian.com/ex/jira/{cloud_id}/rest/api/3/issue/ENG-123
```

---

## Available Tools

### 1. Create Jira Issue

**Tool:** `create_jira_issue_tool`

**Usage:**
```
"Create Jira issue in ENG: Fix authentication bug"
"Add issue to PROJ with summary 'Update docs' and priority high"
```

### 2. Get Jira Issue

**Tool:** `get_jira_issue_tool`

**Usage:**
```
"Show me Jira issue ENG-123"
"Get details for PROJ-456"
```

**Returns:** Title, description, status, assignee, priority, comments, attachments

### 3. Update Jira Issue

**Tool:** `update_jira_issue_tool`

**Usage:**
```
"Update ENG-123 description to include root cause"
"Change assignee of PROJ-456 to john@company.com"
```

### 4. Search Jira Issues

**Tool:** `search_jira_issues_tool`

**Usage:**
```
"Find all high priority issues in ENG"
"Search Jira for issues assigned to me"
"Show open bugs in project BACKEND"
```

**JQL Examples:**
```jql
project = ENG AND priority = High
assignee = currentUser() AND status != Done
type = Bug AND status = "In Progress"
created >= -7d AND project in (ENG, BACKEND)
```

### 5. Add Jira Comment

**Tool:** `add_jira_comment_tool`

**Usage:**
```
"Add comment to ENG-123: 'Fixed in PR #456'"
"Comment on PROJ-789: 'Needs more investigation'"
```

### 6. Transition Jira Issue

**Tool:** `transition_jira_issue_tool`

**Usage:**
```
"Move ENG-123 to In Progress"
"Change PROJ-456 status to Done"
```

### 7. Link Jira Issues

**Tool:** `link_jira_issues_tool`

**Usage:**
```
"Link ENG-123 blocks ENG-124"
"Create link: PROJ-456 relates to PROJ-457"
```

**Link Types:** blocks, is blocked by, relates to, duplicates, clones

### 8–10. Project Management

- **`get_jira_projects_tool`**: List all projects
- **`get_jira_project_details_tool`**: Get project metadata
- **`get_jira_project_users_tool`**: List project members

---

## Webhook Configuration

### Create Webhook

The Jira integration supports programmatic **webhook** creation:

```python
webhook = await jira_oauth.create_webhook(
    cloud_id="your-cloud-id",
    access_token="access-token",
    webhook_url="https://app.potpie.ai/webhooks/jira",
    events=[
        "jira:issue_created",
        "jira:issue_updated",
        "jira:issue_deleted",
        "comment_created"
    ],
    jql="project = ENG"  # Optional filter
)
```

### Webhook Events

Supported events:
- `jira:issue_created` — New issues
- `jira:issue_updated` — Issue changes
- `jira:issue_deleted` — Deleted issues
- `comment_created` — New comments
- `comment_updated` — Comment edits

### JQL Filters

Limit webhook events with **JQL:**
```jql
project = ENG AND priority IN (High, Highest)
type = Bug AND status = "In Progress"
assignee = currentUser()
```

---

## ADF Format

Jira uses **Atlassian Document Format (ADF)** for rich text:

```python
# Simple text
{"type": "doc", "content": [
    {"type": "paragraph", "content": [
        {"type": "text", "text": "Hello world"}
    ]}
]}

# With formatting
{"type": "doc", "content": [
    {"type": "paragraph", "content": [
        {"type": "text", "text": "Bold text", "marks": [{"type": "strong"}]},
        {"type": "text", "text": " and "},
        {"type": "text", "text": "italic", "marks": [{"type": "em"}]}
    ]}
]}
```

Potpie automatically converts plain text to **ADF**.

---

## API Reference

### Endpoints

**Base:** `/api/v2/integrations/jira`

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/oauth/authorize` | Start OAuth |
| GET | `/oauth/callback` | Handle callback |
| POST | `/save` | Save integration |
| GET | `/status/{user_id}` | Check status |

### Save Integration

```json
POST /api/v2/integrations/jira/save
{
  "code": "oauth_code",
  "redirect_uri": "https://app.potpie.ai/integrations/jira/callback",
  "instance_name": "My Jira",
  "user_id": "user_123",
  "integration_type": "jira",
  "timestamp": "2024-02-17T10:00:00Z"
}
```

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Confluence" icon="file-lines" href="/extensions/confluence">
    Connect Jira with Confluence docs
  </Card>
  <Card title="GitHub" icon="github" href="/extensions/github">
    Link Jira issues to GitHub PRs
  </Card>
  <Card title="Linear" icon="link" href="/extensions/linear">
    Sync between Jira and Linear
  </Card>
  <Card title="Custom Agents" icon="robot" href="/custom-agents/introduction">
    Build agents with Jira tools
  </Card>
</CardGroup>
