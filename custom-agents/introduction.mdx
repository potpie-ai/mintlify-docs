---
title: 'Custom Agents'
---

**Custom agents** are purpose-built with a defined **role**, **goal**, and **task** set. Each agent runs against the same <a href="/concepts/knowledge-graph" className="mode-link">knowledge graph</a> and tool library as the built-in agents, scoped to a specific, repeatable workflow.

## Agent types

| Type | Access |
|---|---|
| Private | Accessible only to the creator. Use for personal workflows and agents under active development. |
| Shared | Accessible to specific team members granted access by email. Collaborators can execute the agent but cannot modify its configuration. |
| Public | Accessible to all members of the organization. Discoverable in the agent library for standardized, reusable workflows. |

## Agent definition

Every custom agent specifies four attributes:

- **Role:** The professional function the agent adopts, such as `"Senior Python Developer"` or `"Security Auditor"`. This shapes how the agent frames its analysis.
- **Goal:** The primary objective, defined with specific, measurable outcomes, such as `"Identify SQL injection vulnerabilities across all database query constructions"`.
- **Backstory:** Professional context that informs decision-making. Include relevant methodology, standards, or principles the agent applies.
- **System Prompt:** High-level instructions that control execution behavior: output format, edge case handling, and quality standards.

## Task configuration

Each agent contains between one and five tasks. A task defines a discrete action and consists of three components:

1. **Description:** A clear statement of what the task accomplishes, focused on outcomes. The system automatically enhances descriptions with step-by-step reasoning to improve execution quality.
2. **Tools:** An array of tool IDs the agent can use. Each task requires at least one tool, selected from the <a href="/agents/tools-reference" className="mode-link">library of 70+ options</a>.
3. **Expected Output:** A JSON object specifying the format and structure of the result.

## Execution

<img src="/images/custom-agent-list.png" alt="Custom Agents List" />

Potpie runs each task in sequence using the configured tools and streams the result with file and line citations. Complex queries requiring synthesis across multiple files trigger **multiagent mode** automatically. A **supervisor agent** coordinates the work and delegates to specialized subagents.

## Agent generation

Generate a custom agent from a natural language description. The system infers an appropriate **role**, **goal**, **backstory**, and task breakdown, and recommends tools matched to the described workflow. The agent executes immediately and accepts refinements through subsequent attribute updates.
