---
title: 'Configuration'
---

Create a **custom agent** by defining agent attributes, configuring tasks, and assigning tools. Execute agents through the **Conversations API** using an **API key**.

## Creating an Agent

<Steps>
  <Step title="Define agent attributes">
    Specify the agent's **role**, **goal**, **backstory**, and **system prompt**. These four attributes establish the agent's identity and govern how it approaches every task.

    <img src="/images/custom-agent-identity.png" alt="Agent Identity Configuration" />
  </Step>

  <Step title="Configure the system prompt">
    Write high-level instructions that control task execution behavior: output format requirements, edge case handling, and quality standards.

    <img src="/images/custom-agent-system-prompt.png" alt="System Prompt Configuration" />
  </Step>

  <Step title="Add tasks and assign tools">
    Define between one and five tasks. For each task, provide a description, select the tools the agent may use, and specify the expected output format.

    <img src="/images/custom-agent-tools.png" alt="Task and Tool Configuration" />
  </Step>

  <Step title="Create the agent">
    Review the configuration and create the agent. The agent is ready for immediate use in conversations.

    <img src="/images/custom-agent-create.png" alt="Agent Creation" />
  </Step>
</Steps>

## Agent Attributes

All four attributes are required. They define the agent's identity and shape how it approaches every task.

### Role

The professional function or area of expertise the agent adopts. Use specific, descriptive titles.

**Examples:**
- `"Senior Python Developer"`
- `"Security Auditor"`
- `"Code Reviewer"`

### Goal

The primary objective the agent targets. State it specifically and measurably.

**Examples:**
- `"Optimize database queries for performance"`
- `"Identify SQL injection vulnerabilities in all query constructions"`
- `"Refactor legacy code to modern idiomatic patterns"`

### Backstory

Professional context that establishes credibility and informs decision-making. Include relevant experience, methodology, or standards the agent applies when reasoning about tasks.

### System Prompt

High-level instructions that control execution behavior across all tasks. Define output format requirements, edge case handling guidelines, and quality standards.

## Task Configuration

Each agent requires between one and five tasks. Each task defines a discrete action the agent performs.

### Description

A clear statement of what the task accomplishes, focused on outcomes. The system automatically enhances descriptions with step-by-step reasoning to improve execution quality.

**Example:**
```
Scan the codebase for SQL injection vulnerabilities in database query construction.
```

### Tools

An array of tool IDs the agent uses to complete the task. Each task requires at least one tool. Tool IDs must match exactly from the <a href="/agents/tools-reference" className="mode-link">Tools Reference</a>.

**Example:**
```python
["ask_knowledge_graph_queries", "get_code_from_probable_node_name"]
```

### Expected Output

A JSON object specifying the format and structure of the task's result.

**Example:**
```json
{
  "format": "markdown",
  "sections": ["summary", "findings", "recommendations"]
}
```

### MCP Servers (Optional)

Add **Model Context Protocol** server configurations per task. The schema accepts the field, but MCP execution is not active in the current release.

**Schema format:**
```python
[
  {"name": "github", "link": "https://github.com/mcp-servers/github"},
  {"name": "postgres", "link": "https://github.com/mcp-servers/postgres"}
]
```

## Validation Rules

All agents must satisfy the following constraints before creation succeeds.

| Constraint | Requirement |
|---|---|
| Minimum tasks | 1 |
| Maximum tasks | 5 |
| Tools per task | At least 1 |
| Tool IDs | Must match available tools exactly |

<Warning>
  Invalid tool IDs cause agent creation to fail. Verify all tool names against the <a href="/agents/tools-reference" className="mode-link">Tools Reference</a> before creating the agent.
</Warning>
