---
title: 'List Available Agents'
openapi: 'GET /api/v2/list-available-agents'
---

## Use Cases

- Discover available agents before creating conversations
- Build agent selection interfaces in your application
- Understand agent capabilities and specializations
- Dynamically populate agent options for users
- Determine the right agent for specific tasks

## Authentication

This endpoint requires API key authentication via the `x-api-key` header.

```bash
x-api-key: YOUR_API_KEY
```

#### Response

<ResponseField name="id" type="string">
  Unique agent identifier (use in conversation creation)
</ResponseField>

<ResponseField name="name" type="string">
  Human-readable agent name
</ResponseField>

<ResponseField name="description" type="string">
  What the agent specializes in
</ResponseField>

<ResponseField name="status" type="string">
  Agent status
</ResponseField>

<ResponseField name="visibility" type="string">
  `public` for system agents, `private` for custom agents
</ResponseField>

## Error Responses

<AccordionGroup>
  <Accordion title="401 Unauthorized">

The endpoint requires a valid API key for authentication.

```json
{
  "detail": "API key is required"
}
```

**Causes:**
- Missing `x-api-key` header
- Invalid or expired API key

**Solution:** Include a valid API key in the request header.
  </Accordion>

  <Accordion title="500 Internal Server Error">

The endpoint returns this error when unexpected exceptions occur.

```json
{
  "detail": "Internal server error"
}
```

**Causes:**
- Database connection failures
- Service unavailability

**Solution:** Retry the request after a brief delay. Contact support if the issue persists.
  </Accordion>
</AccordionGroup>

## Complete Workflow

<CodeGroup>

```typescript TypeScript
const response = await fetch(
  'https://production-api.potpie.ai/api/v2/list-available-agents',
  {
    headers: {
      'x-api-key': 'YOUR_API_KEY'
    }
  }
);

const agents = await response.json();

console.log('Available Agents:');
agents.forEach(agent => {
  console.log(`\n${agent.name} (${agent.id})`);
  console.log(`  ${agent.description}`);
});
```

```python Python
import requests

response = requests.get(
    'https://production-api.potpie.ai/api/v2/list-available-agents',
    headers={'x-api-key': 'YOUR_API_KEY'}
)

agents = response.json()

print('Available Agents:')
for agent in agents:
    print(f"\n{agent['name']} ({agent['id']})")
    print(f"  {agent['description']}")
```

```bash cURL
# List all agents
curl -X GET \
  'https://production-api.potpie.ai/api/v2/list-available-agents' \
  -H 'x-api-key: YOUR_API_KEY'

# Pretty print with jq
curl -X GET \
  'https://production-api.potpie.ai/api/v2/list-available-agents' \
  -H 'x-api-key: YOUR_API_KEY' | jq '.'
```

</CodeGroup>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Empty agent list">
    **Problem:** API returns an empty array `[]`.

    **Solution:**
    - This is unusual - system agents should always be available
    - Verify you're using the correct API endpoint
    - Check that your account is active and in good standing
    - Contact support if the list remains empty
  </Accordion>

  <Accordion title="Unknown agent ID">
    **Problem:** Agent ID from list doesn't work in conversations.

    **Solution:**
    - Verify you're using the exact `id` value from this endpoint
    - Refresh the agent list to get the latest data
    - Some agents may require specific permissions
  </Accordion>
</AccordionGroup>

