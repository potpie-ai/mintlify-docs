---
title: 'List Projects'
openapi: 'GET /api/v1/projects/list'
---

## Use Cases

- Display available projects in your application
- Verify a project exists before creating conversations
- Check project parsing status and metadata
- Build project selection interfaces
- Monitor project creation and management

## Authentication

This endpoint requires API key authentication via the `x-api-key` header.

```bash
x-api-key: YOUR_API_KEY
```

<AccordionGroup>
  <Accordion title="Request & Response">

| Location | Field | Type | Required | Description |
|----------|-------|------|----------|-------------|
| Response | `id` | string | - | Unique project identifier (UUID) - use this for conversations and searches |
| Response | `repo_name` | string | - | Repository name (e.g., "facebook/react") |
| Response | `branch_name` | string | - | The branch that was parsed |
| Response | `status` | string | - | Current project status (see Project Status table below) |
| Response | `created_at` | string | - | ISO 8601 timestamp of project creation |
| Response | `updated_at` | string | - | ISO 8601 timestamp of last update |

  </Accordion>
</AccordionGroup>

## Project Status

Projects can have different statuses:

| Status | Description | Actions Available |
|--------|-------------|-------------------|
| `submitted` | Parsing queued but not started | Wait for processing |
| `processing` | Initial parsing in progress | Wait for completion |
| `indexing` | Building knowledge graph | Wait for completion |
| `ready` | Ready for use | All operations available |
| `error` | Parsing failed | Review errors, retry parsing |

## Error Responses

<AccordionGroup>
  <Accordion title="401 Unauthorized">

The endpoint requires a valid API key for authentication.

```json
{
  "detail": "API key is required"
}
```

**Causes:**
- Missing `x-api-key` header
- Invalid or expired API key
- API key doesn't match any user account

**Solution:** Include a valid API key in the request header:
```bash
x-api-key: YOUR_API_KEY
```
  </Accordion>

  <Accordion title="500 Internal Server Error">

The endpoint returns this error when unexpected exceptions occur.

```json
{
  "detail": "Internal server error"
}
```

**Causes:**
- Database connection failures
- Service unavailability

**Solution:** Retry the request after a brief delay. If the issue persists, contact support.
  </Accordion>
</AccordionGroup>

## Complete Workflow

<CodeGroup>

```typescript TypeScript
const response = await fetch(
  'https://production-api.potpie.ai/api/v1/projects/list',
  {
    headers: {
      'x-api-key': 'YOUR_API_KEY'
    }
  }
);

const projects = await response.json();

console.log(`Total projects: ${projects.length}`);
projects.forEach(project => {
  console.log(`- ${project.repo_name} (${project.branch_name}) - ${project.status}`);
});
```

```python Python
import requests

response = requests.get(
    'https://production-api.potpie.ai/api/v1/projects/list',
    headers={'x-api-key': 'YOUR_API_KEY'}
)

projects = response.json()

print(f"Total projects: {len(projects)}")
for project in projects:
    print(f"- {project['repo_name']} ({project['branch_name']}) - {project['status']}")
```

```bash cURL
# List all projects
curl -X GET \
  'https://production-api.potpie.ai/api/v1/projects/list' \
  -H 'x-api-key: YOUR_API_KEY'

# Pretty print with jq
curl -X GET \
  'https://production-api.potpie.ai/api/v1/projects/list' \
  -H 'x-api-key: YOUR_API_KEY' | jq '.'
```

</CodeGroup>

## Building a Project Dashboard

```typescript
// React component example
import { useEffect, useState } from 'react';

interface Project {
  id: string;
  name: string;
  repo_path: string;
  branch_name: string;
  status: string;
  created_at: string;
}

function ProjectDashboard() {
  const [projects, setProjects] = useState<Project[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function loadProjects() {
      try {
        const response = await fetch(
          'https://production-api.potpie.ai/api/v1/projects/list',
          {
            headers: {
              'x-api-key': process.env.POTPIE_API_KEY
            }
          }
        );
        const data = await response.json();
        setProjects(data);
      } catch (error) {
        console.error('Failed to load projects:', error);
      } finally {
        setLoading(false);
      }
    }

    loadProjects();
  }, []);

  if (loading) return <div>Loading projects...</div>;

  return (
    <div>
      <h2>Your Projects ({projects.length})</h2>
      <ul>
        {projects.map(project => (
          <li key={project.id}>
            <strong>{project.name}</strong>
            <span className={`status ${project.status}`}>
              {project.status}
            </span>
            <span>{project.branch_name}</span>
            <span>{new Date(project.created_at).toLocaleDateString()}</span>
          </li>
        ))}
      </ul>
    </div>
  );
}
```

## Filtering and Sorting

```javascript
// Filter projects by status
const activeProjects = projects.filter(p => p.status === 'active');
const parsingProjects = projects.filter(p => p.status === 'parsing');

// Sort by creation date (newest first)
const sortedProjects = [...projects].sort((a, b) =>
  new Date(b.created_at) - new Date(a.created_at)
);

// Sort by name alphabetically
const alphabeticalProjects = [...projects].sort((a, b) =>
  a.name.localeCompare(b.name)
);

// Group by status
const projectsByStatus = projects.reduce((acc, project) => {
  if (!acc[project.status]) {
    acc[project.status] = [];
  }
  acc[project.status].push(project);
  return acc;
}, {});
```

## Common Patterns

### Project Selector Component

```typescript
function ProjectSelector({ onSelect }: { onSelect: (projectId: string) => void }) {
  const [projects, setProjects] = useState<Project[]>([]);

  useEffect(() => {
    fetchProjects().then(setProjects);
  }, []);

  const activeProjects = projects.filter(p => p.status === 'active');

  return (
    <select onChange={(e) => onSelect(e.target.value)}>
      <option value="">Select a project...</option>
      {activeProjects.map(project => (
        <option key={project.id} value={project.id}>
          {project.name} ({project.branch_name})
        </option>
      ))}
    </select>
  );
}
```

### Project Validation

```typescript
async function validateProject(projectId: string): Promise<boolean> {
  const projects = await getProjects();
  const project = projects.find(p => p.id === projectId);

  if (!project) {
    console.error(`Project ${projectId} not found`);
    return false;
  }

  if (project.status !== 'active') {
    console.error(`Project ${projectId} is not active (status: ${project.status})`);
    return false;
  }

  return true;
}
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Empty project list">
    **Problem:** API returns an empty array `[]`.

    **Solution:**
    - This is normal if you haven't created any projects yet
    - Use the Parse Directory endpoint to create your first project
    - Verify you're using the correct API key for your account
    - Check that projects weren't accidentally deleted
  </Accordion>

  <Accordion title="Projects missing from list">
    **Problem:** Some projects don't appear in the response.

    **Solution:**
    - Projects are user-specific - ensure you're using the correct API key
    - Check if projects were deleted or archived
    - Verify the projects completed parsing successfully
    - Contact support if projects are definitely missing
  </Accordion>

  <Accordion title="Status shows 'error' or 'failed'">
    **Problem:** Project status indicates parsing failure.

    **Solution:**
    - Use the Get Parsing Status endpoint to get detailed error information
    - Check if the repository is accessible
    - Verify the branch exists
    - Try re-parsing the repository with the Parse Directory endpoint
  </Accordion>
</AccordionGroup>

